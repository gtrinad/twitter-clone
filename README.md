# Twitter-Clone

Этот проект представляет собой клон Twitter, предоставляющий упрощенную версию функционала Twitter, включая аутентификацию пользователей, выкладывание постов, лайки твитов, подписку на других пользователей и загрузку медиа.

## Используемые технологии
- **FastAPI**: FastAPI - это современный и быстрый фреймворк для создания API на Python 3.7+, основанный на стандартных подсказках типов Python.
- **SQLAlchemy**: SQLAlchemy - это SQL-инструментарий и библиотека отображения объектов для Python.
- **PostgreSQL**: PostgreSQL - это мощная, открытая система управления реляционными базами данных.
- **Nginx**: Nginx - это высокопроизводительный HTTP-сервер и обратный прокси-сервер.
- **Docker**: Docker - это платформа для разработки, доставки и запуска приложений в контейнерах.
- **pytest**: Pytest - это фреймворк для тестирования, который облегчает написание маленьких тестов, но масштабируется для поддержки сложного функционального тестирования.

## Как запустить проект

### 1. Клонировать репозиторий
```bash
git clone https://github.com/gtrinad/twitter-clone.git
cd twitter-clone
```

### 2. 3апустить Docker Compose
```bash
docker compose up --build
```
Эта команда соберет и запустит контейнеры ***Docker*** для приложения ***FastAPI***, базы данных ***PostgreSQL*** и ***Nginx***.

### 3. Перейти в приложение
Откройте веб-браузер и перейдите по адресу http://localhost, чтобы получить доступ к клону Twitter.
Чтобы начать пользоваться всем функционалом, сначала создайте пользователя через **Swagger UI** по адресу http://localhost/docs или через **ReDoc** по адресу http://localhost/redoc.
Добавьте подписчиков.
Размер загружаемых фото не более 2 МБ.

### 4. Запустить тесты
```bash
docker compose -f test.docker-compose.yml up --build
```
Эта команда соберет и выполнит контейнер Docker для запуска тестов.

## Структура проекта
- **app_fast**: Содержит основное приложение ***FastAPI***, включая маршрутизаторы, CRUD-операции и модели базы данных.
- **nginx.conf**: Конфигурационный файл ***Nginx***.
- **nginx.Dockerfile**: ***Dockerfile*** для контейнера ***Nginx***.
- **Dockerfile**: ***Dockerfile*** для контейнера ***FastAPI***-приложения.
- **docker-compose.yml**: Файл ***Docker Compose*** для определения служб (***FastAPI***, ***PostgreSQL***, ***Nginx***).
- **pytest.ini**: Файл конфигурации для ***pytest***.
- **test.Dockerfile**: ***Dockerfile*** для запуска тестов.
- **test.docker-compose.yml**: Файл ***Docker Compose*** для запуска тестов.
- **conftest.py**: Файл конфигурации для фикстур ***pytest***.
- **static**: Директория для хранения статических файлов, включая изображения.

## Документация по API
API содержит несколько конечных точек для операций, связанных с пользователями, твитами, лайками твитов, подпиской на пользователей и загрузкой медиа. Ниже приведены некоторые из ключевых конечных точек:

- Получение текущего пользователя: **GET** ***/api/users/me***
- Получение пользователя по ID: **GET** ***/api/users/{user_id}***
- Создание твита: **POST** ***/api/tweets***
- Удаление твита: **DELETE** ***/api/tweets/{tweet_id}***
- Получение ленты твитов: **GET** ***/api/tweets***
- Лайк твита: **POST** ***/api/tweets/{tweet_id}/likes***
- Удаление лайка с твита: **DELETE** ***/api/tweets/{tweet_id}/likes***
- Подписка на пользователя: **POST** ***/api/users/{user_id}/follow***
- Отписка от пользователя: **DELETE** ***/api/users/{user_id}/follow***
- Загрузка медиа: **POST** ***/api/medias***

Полная **документация API** доступна по адресу http://localhost/docs (**Swagger UI**) и http://localhost/redoc (**ReDoc**).

## База данных
В проекте используется **PostgreSQL** в качестве базы данных. Схема базы данных определена с использованием **SQLAlchemy** в файлах engine.py и models.py.

## Примечание
Убедитесь, что на вашем компьютере установлены Docker и Docker Compose, прежде чем запустить проект.

Не стесняйтесь исследовать и вносить свои изменения в клон Twitter!